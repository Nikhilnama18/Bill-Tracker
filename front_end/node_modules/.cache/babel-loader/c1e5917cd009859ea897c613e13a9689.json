{"remainingRequest":"/home/nikhil/Desktop/Project/front_end/ui-vue/node_modules/babel-loader/lib/index.js!/home/nikhil/Desktop/Project/front_end/ui-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/nikhil/Desktop/Project/front_end/ui-vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/nikhil/Desktop/Project/front_end/ui-vue/src/views/Dashboard.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/nikhil/Desktop/Project/front_end/ui-vue/src/views/Dashboard.vue","mtime":1628673946439},{"path":"/home/nikhil/Desktop/Project/front_end/ui-vue/node_modules/cache-loader/dist/cjs.js","mtime":1626765536234},{"path":"/home/nikhil/Desktop/Project/front_end/ui-vue/node_modules/babel-loader/lib/index.js","mtime":1626765536666},{"path":"/home/nikhil/Desktop/Project/front_end/ui-vue/node_modules/cache-loader/dist/cjs.js","mtime":1626765536234},{"path":"/home/nikhil/Desktop/Project/front_end/ui-vue/node_modules/vue-loader-v16/dist/index.js","mtime":1626765536830}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL25pa2hpbC9EZXNrdG9wL1Byb2plY3QvZnJvbnRfZW5kL3VpLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCBCdXR0b24gZnJvbSAiLi4vY29tcG9uZW50cy9CdXR0b24udnVlIjsKaW1wb3J0IE9yZ2FuaXNhdGlvbnMgZnJvbSAiLi4vY29tcG9uZW50cy9PcmdhbmlzYXRpb25zLnZ1ZSI7CmltcG9ydCBBZGRPcmcgZnJvbSAiLi4vY29tcG9uZW50cy9BZGRPcmcudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJEYXNoYm9hcmQiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBPcmdzOiBBcnJheSwKICAgICAgbG9nZ2VkOiBmYWxzZSwKICAgICAgYWRkT3JnOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEJ1dHRvbjogQnV0dG9uLAogICAgT3JnYW5pc2F0aW9uczogT3JnYW5pc2F0aW9ucywKICAgIEFkZE9yZzogQWRkT3JnCiAgfSwKICBtZXRob2RzOiB7CiAgICBkZWxldGVPcmc6IGZ1bmN0aW9uIGRlbGV0ZU9yZyhvcmdfaWQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGRhdGEsIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHVfaWQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1X2lkIiksCiAgICAgICAgICAgICAgICAgIG9faWQ6IG9yZ19pZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJhcGkvdXNlcnMvIi5jb25jYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oInVfaWQiKSwgIi9vcmdzLyIpLmNvbmNhdChvcmdfaWQpLCB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkRFTEVURSIsCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAiQ29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oImp3dFRva2VuIikpCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpcy5mZXRjaG9yZygpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1X2lkIik7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJqd3RUb2tlbiIpOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgib3JnX2lkIik7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiTG9naW4iCiAgICAgIH0pOwogICAgfSwKICAgIGFkZG9yZzogZnVuY3Rpb24gYWRkb3JnKCkgewogICAgICB0aGlzLmFkZE9yZyA9ICF0aGlzLmFkZE9yZzsKICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy5hZGRPcmcgPSBmYWxzZTsKICAgIH0sCiAgICBmZXRjaG9yZzogZnVuY3Rpb24gZmV0Y2hvcmcoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi5hZGRPcmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiYXBpL3VzZXJzLyIuY29uY2F0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1X2lkIiksICIvb3JncyIpLCB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAiQ29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oImp3dFRva2VuIikpCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMi5sb2dnZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMyLk9yZ3MgPSByZXN1bHQuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHB1c2hPcmc6IGZ1bmN0aW9uIHB1c2hPcmcoZGF0YSkgewogICAgICB0aGlzLk9yZ3MucHVzaChkYXRhWzBdKTsKICAgIH0sCiAgICBnZXRVc2VySWQ6IGZ1bmN0aW9uIGdldFVzZXJJZCgpIHsKICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1X2lkIik7CiAgICB9LAogICAgZ2V0Snd0VG9rZW46IGZ1bmN0aW9uIGdldEp3dFRva2VuKCkgewogICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImp3dFRva2VuIik7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKCF0aGlzLmdldFVzZXJJZCgpIHx8ICF0aGlzLmdldEp3dFRva2VuKCkpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIkxvZ2luIik7CiAgICB9CgogICAgdGhpcy5mZXRjaG9yZygpOwogIH0KfTs="},{"version":3,"sources":["/home/nikhil/Desktop/Project/front_end/ui-vue/src/views/Dashboard.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"containers\">\n    <Button\n      @click=\"logout\"\n      title=\"Logout\"\n      color=\"red\"\n      :style=\"{ float: 'right' }\"\n    />\n    <h1>Organisations</h1>\n    <Button @click=\"addorg\" title=\"Add Organisation\" color=\"green\" />\n    <AddOrg @refresh=\"pushOrg\" @cancel=\"cancel\" v-if=\"addOrg\" />\n    <div>\n      <Organisations @deleteOrg=\"deleteOrg\" v-if=\"logged\" :Orgs=\"Orgs\" />\n    </div>\n    <!-- <Button @click=\"\" title=\"Cancel\" color=\"red\" /> -->\n    <p v-if=\"true\"></p>\n  </div>\n</template>\n\n<script>\nimport Button from \"../components/Button.vue\";\nimport Organisations from \"../components/Organisations.vue\";\nimport AddOrg from \"../components/AddOrg.vue\";\nexport default {\n  name: \"Dashboard\",\n  data() {\n    return {\n      Orgs: Array,\n      logged: false,\n      addOrg: false,\n    };\n  },\n  components: {\n    Button,\n    Organisations,\n    AddOrg,\n  },\n  methods: {\n    async deleteOrg(org_id) {\n      const data = {\n        u_id: localStorage.getItem(\"u_id\"),\n        o_id: org_id,\n      };\n      const response = await fetch(\n        `api/users/${localStorage.getItem(\"u_id\")}/orgs/${org_id}`,\n        {\n          method: \"DELETE\",\n          headers: {\n            \"Content-type\": \"application/json\",\n            authorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`,\n          },\n          body: JSON.stringify(data),\n        }\n      );\n      if (response.status === 200) {\n        this.fetchorg();\n      }\n    },\n    logout() {\n      localStorage.removeItem(\"u_id\");\n      localStorage.removeItem(\"jwtToken\");\n      localStorage.removeItem(\"org_id\");\n      this.$router.push({ name: \"Login\" });\n    },\n\n    addorg() {\n      this.addOrg = !this.addOrg;\n    },\n    cancel() {\n      this.addOrg = false;\n    },\n    async fetchorg() {\n      this.addOrg = false;\n      const response = await fetch(\n        `api/users/${localStorage.getItem(\"u_id\")}/orgs`,\n        {\n          method: \"GET\",\n          headers: {\n            \"Content-type\": \"application/json\",\n            authorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`,\n          },\n        }\n      );\n      if (response.status === 200) {\n        let result = await response.json();\n        this.logged = true;\n        this.Orgs = result.data;\n      }\n    },\n    pushOrg(data) {\n      this.Orgs.push(data[0]);\n    },\n    getUserId() {\n      return localStorage.getItem(\"u_id\");\n    },\n\n    getJwtToken() {\n      return localStorage.getItem(\"jwtToken\");\n    },\n  },\n  created() {\n    if (!this.getUserId() || !this.getJwtToken()) {\n      this.$router.push(\"Login\");\n    }\n    this.fetchorg();\n  },\n};\n</script>\n\n<style scoped>\n.containers {\n  max-width: 500px;\n  margin: 30px auto;\n  overflow: auto;\n  min-height: 100px;\n  border: 1px solid steelblue;\n  padding: 20px;\n  border-radius: 10px;\n}\n\n.linkField {\n  width: 10%;\n  padding: 3px 3px;\n  margin: 1px 0;\n  display: inline-block;\n  border: 2px solid #ccc;\n  border-radius: 10px;\n  box-sizing: border-box;\n}\n</style>"],"sourceRoot":""}]}