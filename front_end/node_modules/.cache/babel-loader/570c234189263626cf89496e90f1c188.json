{"remainingRequest":"/home/nikhil/Desktop/Project/front_end/ui-vue/node_modules/babel-loader/lib/index.js!/home/nikhil/Desktop/Project/front_end/ui-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/nikhil/Desktop/Project/front_end/ui-vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/nikhil/Desktop/Project/front_end/ui-vue/src/components/ListBills.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/nikhil/Desktop/Project/front_end/ui-vue/src/components/ListBills.vue","mtime":1627382754613},{"path":"/home/nikhil/Desktop/Project/front_end/ui-vue/node_modules/cache-loader/dist/cjs.js","mtime":1626765536234},{"path":"/home/nikhil/Desktop/Project/front_end/ui-vue/node_modules/babel-loader/lib/index.js","mtime":1626765536666},{"path":"/home/nikhil/Desktop/Project/front_end/ui-vue/node_modules/cache-loader/dist/cjs.js","mtime":1626765536234},{"path":"/home/nikhil/Desktop/Project/front_end/ui-vue/node_modules/vue-loader-v16/dist/index.js","mtime":1626765536830}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvaG9tZS9uaWtoaWwvRGVza3RvcC9Qcm9qZWN0L2Zyb250X2VuZC91aS12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL25pa2hpbC9EZXNrdG9wL1Byb2plY3QvZnJvbnRfZW5kL3VpLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0IEJpbGwgZnJvbSAiLi9CaWxsLnZ1ZSI7CmltcG9ydCBCdXR0b24gZnJvbSAiLi4vY29tcG9uZW50cy9CdXR0b24udnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMaXN0QmlsbHMiLAogIHByb3BzOiB7CiAgICBvcmdfaWQ6IFN0cmluZwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJpbGxzOiBbXSwKICAgICAgc2hvd0FkZEJpbGw6IGZhbHNlLAogICAgICBkdWVBbW1vdW50OiAwLAogICAgICBhbW1vdW50OiAwLAogICAgICBiaWxsVGltZXN0YW1wOiBuZXcgRGF0ZSgpCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgQmlsbDogQmlsbCwKICAgIEJ1dHRvbjogQnV0dG9uCiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaEJpbGxzOiBmdW5jdGlvbiBmZXRjaEJpbGxzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2UsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiYXBpL3VzZXJzLyIuY29uY2F0KF90aGlzLmdldFVzZXJJZCgpLCAiL29yZ3MvIikuY29uY2F0KF90aGlzLmdldE9yZ0lkKCksICIvYmlsbHMiKSwgewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KF90aGlzLmp3dFRva2VuKQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMuYmlsbHMgPSByZXN1bHQuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNyZWF0ZUJpbGw6IGZ1bmN0aW9uIGNyZWF0ZUJpbGwoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzcG9uc2UsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiYXBpL3VzZXJzLyIuY29uY2F0KF90aGlzMi5nZXRVc2VySWQoKSwgIi9vcmdzLyIpLmNvbmNhdChfdGhpczIuZ2V0T3JnSWQoKSwgIi9iaWxscyIpLCB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICAgdV9pZDogcGFyc2VJbnQoX3RoaXMyLmdldFVzZXJJZCgpKSwKICAgICAgICAgICAgICAgICAgICBvX2lkOiBwYXJzZUludChfdGhpczIuZ2V0T3JnSWQoKSksCiAgICAgICAgICAgICAgICAgICAgYW1tb3VudDogcGFyc2VJbnQoX3RoaXMyLmFtbW91bnQpLAogICAgICAgICAgICAgICAgICAgIGR1ZV9hbW1vdW50OiBwYXJzZUludChfdGhpczIuZHVlQW1tb3VudCksCiAgICAgICAgICAgICAgICAgICAgaXNzdWVfdGltZXN0YW1wOiBfdGhpczIuYmlsbFRpbWVzdGFtcAogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXNDb2RlID09ICIxMDAwMCIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmJpbGxzID0gW3Jlc3VsdC5kYXRhWzBdXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzMi5iaWxscykpOwogICAgICAgICAgICAgICAgICBfdGhpczIuc2hvd0FkZEJpbGwgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGFsZXJ0KCJVbmFibGUgdG8gY3JlYXRlIGJpbGwuIik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgYWxlcnQoIlVuYWJsZSB0byBjcmVhdGUgYmlsbC4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGRlbGV0ZUJpbGw6IGZ1bmN0aW9uIGRlbGV0ZUJpbGwoYl9pZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByZXNwb25zZSwgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIWNvbmZpcm0oIkFyZSB5b3Ugc3VyZSAsIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGUgYmlsbCB3aXRoIGlkIDogIi5jb25jYXQoYl9pZCkpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiYXBpL3VzZXJzLyIuY29uY2F0KF90aGlzMy5nZXRVc2VySWQoKSwgIi9vcmdzLyIpLmNvbmNhdChfdGhpczMuZ2V0T3JnSWQoKSwgIi9iaWxscy8iKS5jb25jYXQoYl9pZCksIHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiREVMRVRFIiwKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICJDb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdChfdGhpczMuZ2V0Snd0VG9rZW4oKSkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXNDb2RlID09ICIxMDAwMCIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmJpbGxzID0gX3RoaXMzLmJpbGxzLmZpbHRlcihmdW5jdGlvbiAoYmlsbCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBiaWxsLmJfaWQgIT0gYl9pZDsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBhbGVydCgiVW5hYmxlIHRvIGRlbGV0ZSBiaWxsLiIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGFsZXJ0KCJVbmFibGUgdG8gZGVsZXRlIGJpbGwuIik7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVCaWxsOiBmdW5jdGlvbiB1cGRhdGVCaWxsKHVwZGF0ZWRfYmlsbCkgewogICAgICBjb25zb2xlLmxvZyh1cGRhdGVkX2JpbGwpOyAvLyAgIE5vIG5lZWQgdG8gdXBkYXRlIGhlcmUgLCB1cGRhdGluZyBqdXN0IGluIHRoZSBiaWxsIGNvbXBvbmVudCBpcyBlbm91Z2guCiAgICAgIC8vICAgY29uc3QgdXBkYXRlZEJpbGxJbmRleCA9IHRoaXMuYmlsbHMuZmluZEluZGV4KAogICAgICAvLyAgICAgKGJpbGwpID0+IGJpbGwuYl9pZCA9PSB1cGRhdGVkX2JpbGwuYl9pZAogICAgICAvLyAgICk7CiAgICAgIC8vICAgLy8gR2V0IGEgbmV3IG9iamVjdC4KICAgICAgLy8gICBjb25zdCB0b1VwZGF0ZUJpbGwgPSB7IC4uLnRoaXMuYmlsbHNbdXBkYXRlZEJpbGxJbmRleF0gfTsKICAgICAgLy8gICAvLyBOb3cgcmVtb3ZlIHRoZSB0byB1cGRhdGUgb2JqZWN0LgogICAgICAvLyAgIHRoaXMuYmlsbHMgPSB0aGlzLmJpbGxzLmZpbHRlcigoYmlsbCkgPT4gewogICAgICAvLyAgICAgcmV0dXJuIGJpbGwuYl9pZCAhPSB1cGRhdGVkX2JpbGwuYl9pZDsKICAgICAgLy8gICB9KTsKICAgICAgLy8gICB0b1VwZGF0ZUJpbGxbImFtbW91bnQiXSA9IHBhcnNlSW50KHVwZGF0ZWRfYmlsbC5hbW1vdW50KTsKICAgICAgLy8gICB0b1VwZGF0ZUJpbGxbImR1ZV9hbW1vdW50Il0gPSBwYXJzZUludCh1cGRhdGVkX2JpbGwuZHVlX2FtbW91bnQpOwogICAgICAvLyAgIHRoaXMuYmlsbHMuc3BsaWNlKHVwZGF0ZWRCaWxsSW5kZXgsIDAsIHsgLi4udG9VcGRhdGVCaWxsIH0pOwogICAgICAvLyAgIGNvbnNvbGUudGFibGUodGhpcy5iaWxscyk7CiAgICB9LAogICAgZ2V0VXNlcklkOiBmdW5jdGlvbiBnZXRVc2VySWQoKSB7CiAgICAgIHZhciB1X2lkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVfaWQiKTsKCiAgICAgIGlmICghdV9pZCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCJMb2dpbiIpOwogICAgICB9CgogICAgICByZXR1cm4gdV9pZDsKICAgIH0sCiAgICBnZXRKd3RUb2tlbjogZnVuY3Rpb24gZ2V0Snd0VG9rZW4oKSB7CiAgICAgIHZhciBqd3RUb2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJqd3RUb2tlbiIpOwoKICAgICAgaWYgKCFqd3RUb2tlbikgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCJMb2dpbiIpOwogICAgICB9CgogICAgICByZXR1cm4gand0VG9rZW47CiAgICB9LAogICAgZ2V0T3JnSWQ6IGZ1bmN0aW9uIGdldE9yZ0lkKCkgewogICAgICB2YXIgb19pZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJvcmdfaWQiKSB8fCB0aGlzLiRyb3V0ZS5wYXJhbXMub19pZDsKCiAgICAgIGlmICghb19pZCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCJEYXNoYm9hcmQiKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG9faWQ7CiAgICB9LAogICAgbnVtYmVyV2l0aENvbW1hczogZnVuY3Rpb24gbnVtYmVyV2l0aENvbW1hcyh4KSB7CiAgICAgIHJldHVybiB4LnRvU3RyaW5nKCkucmVwbGFjZSgvXEIoPz0oXGR7M30pKyg/IVxkKSkvZywgIiwiKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB0b3RhbEFtbW91bnQ6IGZ1bmN0aW9uIHRvdGFsQW1tb3VudCgpIHsKICAgICAgdmFyIHN1bUFtbW91bnQgPSB0aGlzLmJpbGxzLnJlZHVjZShmdW5jdGlvbiAoc3VtLCBiaWxsKSB7CiAgICAgICAgcmV0dXJuIHN1bSArIGJpbGwuYW1tb3VudDsKICAgICAgfSwgMCk7CiAgICAgIHJldHVybiB0aGlzLm51bWJlcldpdGhDb21tYXMoc3VtQW1tb3VudCk7CiAgICB9LAogICAgdG90YWxEdWVBbW1vdW50OiBmdW5jdGlvbiB0b3RhbER1ZUFtbW91bnQoKSB7CiAgICAgIC8vICAgY29uc29sZS5sb2coInRvdGFsRHVlQW1tb3VudCA6IiwgSlNPTi5zdHJpbmdpZnkodGhpcy5iaWxscykpOwogICAgICB2YXIgc3VtRHVlQW1tb3VudCA9IHRoaXMuYmlsbHMucmVkdWNlKGZ1bmN0aW9uIChzdW0sIGJpbGwpIHsKICAgICAgICByZXR1cm4gc3VtICsgYmlsbC5kdWVfYW1tb3VudDsKICAgICAgfSwgMCk7CiAgICAgIHJldHVybiB0aGlzLm51bWJlcldpdGhDb21tYXMoc3VtRHVlQW1tb3VudCk7CiAgICB9LAogICAgb3BlbkR1ZVBlcmNlbnQ6IGZ1bmN0aW9uIG9wZW5EdWVQZXJjZW50KCkgewogICAgICB2YXIgb3BlbkJpbGxzID0gdGhpcy5iaWxscy5maWx0ZXIoZnVuY3Rpb24gKGJpbGwpIHsKICAgICAgICByZXR1cm4gYmlsbC5kdWVfYW1tb3VudCAhPSAwOwogICAgICB9KTsKICAgICAgdmFyIHN1bUR1ZUFtbW91bnQgPSB0aGlzLmJpbGxzLnJlZHVjZShmdW5jdGlvbiAoc3VtLCBiaWxsKSB7CiAgICAgICAgcmV0dXJuIHN1bSArIGJpbGwuZHVlX2FtbW91bnQ7CiAgICAgIH0sIDApOwoKICAgICAgaWYgKG9wZW5CaWxscy5sZW5ndGggPiAwKSB7CiAgICAgICAgdmFyIG9wZW5CaWxsc1N1bSA9IG9wZW5CaWxscy5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgYmlsbCkgewogICAgICAgICAgcmV0dXJuIHN1bSArIGJpbGwuYW1tb3VudDsKICAgICAgICB9LCAwKTsKICAgICAgICByZXR1cm4gb3BlbkJpbGxzU3VtID4gMCA/IChwYXJzZUludChzdW1EdWVBbW1vdW50KSAvIHBhcnNlSW50KG9wZW5CaWxsc1N1bSkgKiAxMDApLnRvRml4ZWQoMikgOiAwOwogICAgICB9CgogICAgICByZXR1cm4gMDsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoQmlsbHMoKTsKICB9Cn07"},{"version":3,"sources":["/home/nikhil/Desktop/Project/front_end/ui-vue/src/components/ListBills.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <Button\n      @click=\"showAddBill = !showAddBill\"\n      :title=\"showAddBill === false ? 'Add Bill' : 'Cancel'\"\n      :color=\"showAddBill === false ? 'green' : 'red'\"\n    />\n    <div v-show=\"showAddBill\">\n      <form>\n        <input\n          v-model=\"ammount\"\n          type=\"number\"\n          name=\"ammount\"\n          id=\"ammount\"\n          placeholder=\"Bill Ammout\"\n          required\n        />\n        <input\n          v-model=\"dueAmmount\"\n          type=\"number\"\n          name=\"dueAmmount\"\n          id=\"dueAmmount\"\n          placeholder=\"Bill Due Ammount\"\n          required\n        />\n\n        <input\n          v-model=\"billTimestamp\"\n          type=\"datetime-local\"\n          name=\"billTimestamp\"\n          id=\"billTimestamp\"\n          required\n        />\n\n        <input\n          type=\"submit\"\n          @click=\"createBill\"\n          value=\"Add bill\"\n          :style=\"{ background: '#458eff' }\"\n          class=\"btn\"\n        />\n      </form>\n    </div>\n\n    <p>Total Bills : {{ bills.length }}</p>\n    <p>Total Ammount : {{ totalAmmount }} &#x20B9;</p>\n    <p>Total Due Ammount : {{ totalDueAmmount }} &#x20B9;</p>\n    <p>Open bills Due : {{ openDuePercent }} %</p>\n    <p>Open bills Paid : {{ 100 - openDuePercent }} %</p>\n    <div :key=\"bill.o_id\" v-for=\"bill in bills\">\n      <Bill\n        @delete-bill=\"deleteBill\"\n        @update-bill=\"updateBill\"\n        :bill=\"bill\"\n      ></Bill>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Bill from \"./Bill.vue\";\nimport Button from \"../components/Button.vue\";\n\nexport default {\n  name: \"ListBills\",\n  props: {\n    org_id: String,\n  },\n  data() {\n    return {\n      bills: [],\n      showAddBill: false,\n      dueAmmount: 0,\n      ammount: 0,\n      billTimestamp: new Date(),\n    };\n  },\n  components: { Bill, Button },\n  methods: {\n    async fetchBills() {\n      const response = await fetch(\n        `api/users/${this.getUserId()}/orgs/${this.getOrgId()}/bills`,\n        {\n          method: \"GET\",\n          headers: {\n            \"Content-type\": \"application/json\",\n            authorization: `Bearer ${this.jwtToken}`,\n          },\n        }\n      );\n      if (response.status === 200) {\n        let result = await response.json();\n        this.bills = result.data;\n      }\n    },\n\n    async createBill(event) {\n      event.preventDefault();\n\n      const response = await fetch(\n        `api/users/${this.getUserId()}/orgs/${this.getOrgId()}/bills`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            u_id: parseInt(this.getUserId()),\n            o_id: parseInt(this.getOrgId()),\n            ammount: parseInt(this.ammount),\n            due_ammount: parseInt(this.dueAmmount),\n            issue_timestamp: this.billTimestamp,\n          }),\n        }\n      );\n      if (response.status == 200) {\n        let result = await response.json();\n        if (result.statusCode == \"10000\") {\n          this.bills = [result.data[0], ...this.bills];\n          this.showAddBill = false;\n        } else {\n          alert(\"Unable to create bill.\");\n        }\n      } else {\n        alert(\"Unable to create bill.\");\n      }\n    },\n\n    async deleteBill(b_id) {\n      if (\n        confirm(`Are you sure , you want to delete the bill with id : ${b_id}`)\n      ) {\n        const response = await fetch(\n          `api/users/${this.getUserId()}/orgs/${this.getOrgId()}/bills/${b_id}`,\n          {\n            method: \"DELETE\",\n            headers: {\n              \"Content-type\": \"application/json\",\n              authorization: `Bearer ${this.getJwtToken()}`,\n            },\n          }\n        );\n\n        if (response.status == 200) {\n          let result = await response.json();\n          if (result.statusCode == \"10000\") {\n            this.bills = this.bills.filter((bill) => bill.b_id != b_id);\n          } else {\n            alert(\"Unable to delete bill.\");\n          }\n        } else {\n          alert(\"Unable to delete bill.\");\n        }\n      }\n    },\n\n    updateBill(updated_bill) {\n      console.log(updated_bill);\n      //   No need to update here , updating just in the bill component is enough.\n      //   const updatedBillIndex = this.bills.findIndex(\n      //     (bill) => bill.b_id == updated_bill.b_id\n      //   );\n      //   // Get a new object.\n      //   const toUpdateBill = { ...this.bills[updatedBillIndex] };\n      //   // Now remove the to update object.\n      //   this.bills = this.bills.filter((bill) => {\n      //     return bill.b_id != updated_bill.b_id;\n      //   });\n      //   toUpdateBill[\"ammount\"] = parseInt(updated_bill.ammount);\n      //   toUpdateBill[\"due_ammount\"] = parseInt(updated_bill.due_ammount);\n      //   this.bills.splice(updatedBillIndex, 0, { ...toUpdateBill });\n      //   console.table(this.bills);\n    },\n\n    getUserId() {\n      const u_id = localStorage.getItem(\"u_id\");\n      if (!u_id) {\n        this.$router.push(\"Login\");\n      }\n      return u_id;\n    },\n\n    getJwtToken() {\n      const jwtToken = localStorage.getItem(\"jwtToken\");\n      if (!jwtToken) {\n        this.$router.push(\"Login\");\n      }\n      return jwtToken;\n    },\n\n    getOrgId() {\n      const o_id = localStorage.getItem(\"org_id\") || this.$route.params.o_id;\n      if (!o_id) {\n        this.$router.push(\"Dashboard\");\n      }\n      return o_id;\n    },\n\n    numberWithCommas(x) {\n      return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    },\n  },\n  computed: {\n    totalAmmount() {\n      const sumAmmount = this.bills.reduce((sum, bill) => {\n        return sum + bill.ammount;\n      }, 0);\n      return this.numberWithCommas(sumAmmount);\n    },\n\n    totalDueAmmount() {\n      //   console.log(\"totalDueAmmount :\", JSON.stringify(this.bills));\n      const sumDueAmmount = this.bills.reduce((sum, bill) => {\n        return sum + bill.due_ammount;\n      }, 0);\n      return this.numberWithCommas(sumDueAmmount);\n    },\n\n    openDuePercent() {\n      const openBills = this.bills.filter((bill) => {\n        return bill.due_ammount != 0;\n      });\n      const sumDueAmmount = this.bills.reduce((sum, bill) => {\n        return sum + bill.due_ammount;\n      }, 0);\n\n      if (openBills.length > 0) {\n        const openBillsSum = openBills.reduce((sum, bill) => {\n          return sum + bill.ammount;\n        }, 0);\n\n        return openBillsSum > 0\n          ? ((parseInt(sumDueAmmount) / parseInt(openBillsSum)) * 100).toFixed(\n              2\n            )\n          : 0;\n      }\n      return 0;\n    },\n  },\n  created() {\n    this.fetchBills();\n  },\n};\n</script>"],"sourceRoot":""}]}